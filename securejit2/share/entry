#!/usr/bin/env perl
use strict;
$| = 1;
my $logo = <<'EOF';
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:'######::'########::'######::'##::::'##:'########::'########::::::::::'##:'####:'########:
'##... ##: ##.....::'##... ##: ##:::: ##: ##.... ##: ##.....::::::::::: ##:. ##::... ##..::
 ##:::..:: ##::::::: ##:::..:: ##:::: ##: ##:::: ##: ##:::::::::::::::: ##:: ##::::: ##::::
. ######:: ######::: ##::::::: ##:::: ##: ########:: ######:::::::::::: ##:: ##::::: ##::::
:..... ##: ##...:::: ##::::::: ##:::: ##: ##.. ##::: ##...:::::::'##::: ##:: ##::::: ##::::
'##::: ##: ##::::::: ##::: ##: ##:::: ##: ##::. ##:: ##:::::::::: ##::: ##:: ##::::: ##::::
. ######:: ########:. ######::. #######:: ##:::. ##: ########::::. ######::'####:::: ##::::
:......:::........:::......::::.......:::..:::::..::........::::::......:::....:::::..:::::
Welcome to 0CTF/TCTF Final 2021!
Paste your code here, end it with EOF (not Ctrl-D :P). Then I will run `python3 pyast64.py <xxx>`.
EOF
print $logo;
my $filename = `mktemp`;
alarm(30);
chomp $filename;
open(my $f, '>', $filename) || die 'Fatal error, ping admin plz ._.';
while (my $line = <>) {
    last if $line eq "EOF\n";
    print $f $line;
}
close($f);
exec 'timeout', '-k1', 30, 'python3', 'pyast64.py', $filename;

